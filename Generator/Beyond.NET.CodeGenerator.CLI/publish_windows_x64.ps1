$OUTPUT_PRODUCT_NAME = "beyondnetgen"
$BUILD_CONFIGURATION = "Release"

$OUTPUT_FILE_NAME = $OUTPUT_PRODUCT_NAME

$DOTNET_PATH = (Get-Command dotnet).Source
$DOTNET_VERSION = & $DOTNET_PATH --version
$DOTNET_VERSION_MAJOR_AND_MINOR = $DOTNET_VERSION.Substring(0, 3)

$VERBOSITY_LEVEL = "normal"

$RUNTIME_IDENTIFIER_X64 = "win-x64"

$BIN_DIR = "bin"
$PUBLISH_DIR = "publish"
$DOTNET_TARGET_FRAMEWORK = "net$DOTNET_VERSION_MAJOR_AND_MINOR"

$X64_BUILD_DIR = "$BIN_DIR\$BUILD_CONFIGURATION\$DOTNET_TARGET_FRAMEWORK\$RUNTIME_IDENTIFIER_X64\$PUBLISH_DIR"

$X64_FILE_PATH = "$X64_BUILD_DIR\$OUTPUT_FILE_NAME"

Write-Host "Building $OUTPUT_PRODUCT_NAME for x64"
& $DOTNET_PATH publish -r $RUNTIME_IDENTIFIER_X64 -v "$VERBOSITY_LEVEL"